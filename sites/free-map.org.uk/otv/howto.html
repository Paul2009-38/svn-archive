<html>
<head>
<title>OpenTrailView - How to contribute</title>
<link rel='stylesheet' type='text/css' href='css/osv.css' />
</head>
<body>
<h1>OpenTrailView</h1>
<h2>What is OpenTrailView?</h2>
<p>OpenTrailView's aim is to produce a "Google StreetView" like
experience for paths and trails, by creating a linked database of 360
degree panoramas. </p>
<h2>How to contribute</h2>
<p>This page details how to contribute panoramas to 
OpenTrailView. </p>
<h3>Important note!</h3>
<p>Many features of OTV do not currently work in Internet Explorer, and OTV
is unlikely to ever support versions of IE less than 9 due to the reliance
on the &lt;canvas&gt; tag. Sorry about that, but I would recommend you use an 
up-to-date version of Firefox or Chrome instead. By the time OTV matures,
IE9 is likely to be widespread anyhow.</p>
<h3>Sign up</h3>
<p>You need to be logged in to submit a panorama. So 
<a href='/common/user.php?action=signup'>sign up</a> now!</p>
<h3>Taking panoramas</h3>
<ul>
<li>
It's recommended to make the centre of the panorama face your direction
of travel; this helps when aligning the panorama with the path you're
following, using an OSM map, later on. At the very least, you need to know
which direction the centre of the panorama is facing!</li>
<li>To do this when out, turn in the opposite direction to the direction
you're travelling and slightly to the right. Take a series of photos, turning
clockwise, until finally you take a photo which faces in the opposite 
direction to the direction you're travelling and slightly to the left, at
the same angle (but left, rather than right) as your original photo.
Ensure each successive photo overlaps with the previous as the photo stitching
software works by identifying common features.</li>
<li> To actually create a panorama, do the following:
	<ul>
	<li>resize your photos to around 800x600. This significantly increases
	the chance of the stitcher (well, Hugin at least) stitching the photos
	successfully.
	Example of doing this in ImageMagick:
<pre>
convert -resize 800x600 in.jpg out.jpg
</pre>
	</li>
	<li>use photo stitching
	software, such as the free and open source
	<a href='http://hugin.sourceforge.net'>Hugin</a> 
	(commercial photostitchers are
	available too) to stitch the photos to make a panorama. Note that Hugin
might occasionally
comment that your panorama stitching is a bad fit. This may or
may not be the case, so check your panorama for uneven overlaps (sometimes
its automatically-picked control points aren't the best) and re-specify
the control points if necessary. </li>
</ul>
</li>
</ul>
<h3>Uploading and managing panoramas</h3>
<ul>
<li>Submit panoramas by following the link on the form on the main 
page. 
You can now upload a whole batch of photos at once; thanks to Andrew Valums
for his JavaScript photo uploader.</li>
<li>Once you've uploaded all the panoramas
from a trip, you can optionally upload a GPS track in GPX format; 
this will automatically calculate the position of each
panorama if both the track and the panoramas have timestamps.</li>
<li>You can then visit the photo manager page to position any unpositioned
panoramas (using an OSM slippy map)</li>
<li>The next stage is to orientate your panoramas. On the map on the main page, 
click the "Rotate" button below the map, and align a
photo or panorama by rotating the camera icons. The camera should face
the same direction as the centre of the panorama.
Align it with the footpath or trail that you took
it from, by rotating the camera icon on the map so that it faces the same
direction as the centre of the panorama. To get back to the normal mode,
where moving over a camera icon shows a panorama, click the "View"
button.</li>
<li>You can drag photos round the map to change their position (if logged in)
via the "Move" option. </li>
<li>Wait for your panoramas to be authorised. You will be able
to see them in the meantime, but other people will not. Authorisation should
normally take place within a day (unless I'm on holiday!)</li>
</ul>
<h3>Connecting panoramas</h3>
<p>The key feature of OTV is that <strong>photos can be
linked together in a route</strong>, which users can 
virtually "walk" down, a la StreetView.
This works by linking the panorama to the underlying OpenStreetMap
way; when you view a panorama, nearby OSM ways are located and adjacent
panoramas along these ways are found, and an arrow showing the direction of
the adjacent panorama(s) are superimposed on the current panorama.
This already works (with one or two glitches) but due to server constraints
it works <em>for UK footpaths only</em>. Due to said server constraints
this situation is unlikely to change BTW (unless someone donates a nice big
fat server to the project ;-) ), 
so if you want to see this feature of OTV in your own country I would recommend 
installing the source on your own server with OSM PostGIS database.
</p>

<h3>Credits</h3>
<p>Maps are provided by
<a href='http://www.openstreetmap.org'>OpenStreetMap</a>.
Panoramas make use of code based on
<a href='http://code.google.com/p/jspanoviewer'>JSPanoViewer</a>, a JavaScript
class for displaying panoramas.</p>
<a href='index.php'>Back to main page</a>
</body>
</html>
