<html>
<head>
<title>OpenTrailView - How to contribute</title>
<link rel='stylesheet' type='text/css' href='css/osv.css' />
</head>
<body>
<h1>OpenTrailView</h1>
<h2>How to contribute</h2>
<p>This page details how to contribute photos or panoramas to 
OpenTrailView. </p>
<h3>Sign up</h3>
<p>You need to be logged in to submit a photo. So 
<a href='user.php?action=signup'>sign up</a> now!</p>
<h3>What type of photos should be contributed?</h3>
<p>One of OpenTrailView's aims is to produce a "Google StreetView" like
experience for paths and trails, by creating a linked database of 360
degree panoramas. However, creating a panorama can take some patience, so
for that reason, you can now contribute regular georeferenced
photos too. 
The sections below deal with contributing regular photos, 
and 360 degree panoramas.</p>
<h3>Taking photos or panoramas</h3>
<h4>Regular photos</h4>
<ul>
<li>While out for a walk or hike, simply take a series of photos along
the path or trail you're following, ideally aligned with the path or trail
so that they can be orientated easily later on.</li>
<li>Ideally, every time you take a photo in the direction you're
travelling, also take a photo in the <em>opposite</em> direction, so that
someone travelling in the opposite direction can see a sequence of
photos in the correct order.</li>
<li>At certain places, e.g. crossroads, you might also want to take 4
photos at 90 degrees to each other. The photo manager (see below) can
handle individual photos, photo pairs at 180 degrees to each other,
and sets of four at 90 degrees to each other.</li>
</ul>
<h4>Taking 360 degree panoramas</h4>
<ul>
<li>
It's important to make the centre of the panorama face your direction
of travel; this is needed to align the panorama with the path you're
following, using an OSM map, later on. At the very least, you need to know
which direction the centre of the panorama is facing!</li>
<li>To do this when out, turn in the opposite direction to the direction
you're travelling and slightly to the right. Take a series of photos, turning
clockwise, until finally you take a photo which faces in the opposite 
direction to the direction you're travelling and slightly to the left, at
the same angle (but left, rather than right) as your original photo.
Ensure each successive photo overlaps with the previous as the photo stitching
software works by identifying common features.</li>
<li> To actually create a panorama, do the following:
use photo stitching
software, such as the free and open source
<a href='http://hugin.sourceforge.net'>Hugin</a> (commercial photostitchers are
available too) to stitch the photos to make a panorama. Note that Hugin
might comment that your panorama stitching is a "very bad fit". This may or
may not be the case, so check your panorama for uneven overlaps (sometimes
its automatically-picked control points aren't the best) and re-specify
the control points if necessary. Sometimes, however, Hugin appears to
consider it a "very bad fit" when no noticeable irregularities in stitching
are present!</li>
<li>Try to scale your panorama to be 400 pixels in height, using image
manipulation software - e.g. GIMP, ImageMagick, or similar. The OTV website
will scale your panorama to a height of 400 pixels - and, if the panorama
is not this height already, it might appear pixellated and indistinct. 
Example of doing this in ImageMagick:
<pre>
convert -resize x400 in.jpg out.jpg
</pre>
</li>
</ul>
<h3>Uploading and managing photos</h3>
<ul>
<li>Submit photos and panoramas by following the link on the form on the main 
page. 
You can now upload a whole batch of photos at once; thanks to Andrew Valums
for his JavaScript photo uploader.</li>
<li>Once you've uploaded all the photos or panoramas
from a trip, you can optionally 
upload a GPS track in GPX format; 
this will automatically calculate the position of each
photo or panorama if both the track and the panoramas have timestamps.</li>
<li>You can then visit the photo manager page to position any unpositioned
photos (using an OSM slippy map) or group together photos taken in different
directions from the same place.</li>
<li>The next stage is to orientate your photos. On the map on the main page, 
click the "Align photos" button below the map, and align a
photo or panorama by rotating the camera icons. The camera should face
the same direction as either:
	<ul>
	<li>the centre of a single photo;</li>
	<li>the centre of a panorama;</li>
	<li>in a group of photos, it should face the direction of the
	<em>first photo in the group</em> (the one that the angles of the other
	members of the group were specified relative to).</li>
	</ul>
Align it with the footpath or trail that you took
it from, by rotating the camera icon on the map so that it faces the same
direction as the centre of the photo. To get back to the normal mode,
where moving over a camera icon shows a photo, click the "View photos"
button.</li>
<li>The key feature of OTV, when done, is that <strong>photos will be
able to be linked together in a route</strong>, which users can 
virtually "walk" down, a la StreetView. Some functionality is
already implemented on the main page; select <em>Connect photos</em>, click
on a photo and drag to the next photo to link them together. Repeat for further
photos in the route and double-click to end the route. At the moment
however route forming is very rudimentary; you can't edit a route, for 
example, once you've made it, and you can't yet follow a route as an end-user
(at the moment OTV is still geared towards collection of data - rather 
like OSM in the early days).</li>
<li>Wait for your photos or panoramas to be authorised. You will be able
to see them in the meantime, but other people will not. Authorisation should
normally take place within a day (unless I'm on holiday!)</li>
</ul>
<h3>Credits</h3>
<p>Maps are provided by
<a href='http://www.openstreetmap.org'>OpenStreetMap</a>.
Panoramas make use of
<a href='http://code.google.com/p/jspanoviewer'>JSPanoViewer</a>, a JavaScript
class for displaying panoramas.</p>
<a href='index.php'>Back to main page</a>
</body>
</html>
