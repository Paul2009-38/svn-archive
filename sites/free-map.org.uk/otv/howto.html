<html>
<head>
<title>OpenTrailView - How to contribute</title>
<link rel='stylesheet' type='text/css' href='css/osv.css' />
</head>
<body>
<h1>OpenTrailView</h1>
<h2>How to contribute</h2>
<p>This page details how to contribute a panorama to 
OpenTrailView. Note that this procedure is likely to be refined as soon as
it's worked out what the optimal dimensions of a panorama are, etc.</p>
<h3>Sign up</h3>
<p>You need to be logged in to submit a photo. So 
<a href='user.php?action=signup'>sign up</a> now!</p>
<h3>Taking the panorama</h3>
<ul>
<li>
It's important to make the centre of the panorama face your direction
of travel; this is needed to align the panorama with the path you're
following, using an OSM map, later on. At the very least, you need to know
which direction the centre of the panorama is facing!</li>
<li>To do this when out, turn in the opposite direction to the direction
you're travelling and slightly to the right. Take a series of photos, turning
clockwise, until finally you take a photo which faces in the opposite 
direction to the direction you're travelling and slightly to the left, at
the same angle (but left, rather than right) as your original photo.
Ensure each successive photo overlaps with the previous as the photo stitching
software works by identifying common features.</li>
<li>Also ideally record a GPS track of your trip and save it as a GPX file.
A GPS track with timestamps can now be used in conjunction with timestamped 
photos to work out where the photos was taken as part of the photo upload
process. (To avoid this procedure taking too long and overloading the server, 
create a GPX file with
minimal trackpoints; adjust the settings on your
GPS device to record trackpoints as infrequently as possible). As an 
alternative, you can estimate the position by
clicking on the map on the main page, or, if you are using a camera with
GPS (e.g. smartphone), the EXIF latitude and longitude tags will be 
automatically read.</li>
<li> To actually create a panorama, do the following:
use photo stitching
software, such as the free and open source
<a href='http://hugin.sourceforge.net'>Hugin</a> (commercial photostitchers are
available too) to stitch the photos to make a panorama. Note that Hugin
might comment that your panorama stitching is a "very bad fit". This may or
may not be the case, so check your panorama for uneven overlaps (sometimes
its automatically-picked control points aren't the best) and re-specify
the control points if necessary. Sometimes, however, Hugin appears to
consider it a "very bad fit" when no noticeable irregularities in stitching
are present!</li>
<li>Try to scale your panorama to be 400 pixels in height, using image
manipulation software - e.g. GIMP, ImageMagick, or similar. The OTV website
will scale your panorama to a height of 400 pixels - and, if the panorama
is not this height already, it might appear pixellated and indistinct. 
Example of doing this in ImageMagick:
<pre>
convert -resize x400 in.jpg out.jpg
</pre>
</li>
</ul>
<h3>Uploading</h3>
<ul>
<li>Submit panoramas by following the link on the form on the main page. 
Upload your panoramas one by one; you can use the map to estimate the latitude
and longitude or use a GPS track (see below).</li>
<li>Once you've uploaded all the panoramas from a trip, you can optionally 
upload a GPX track; this will automatically calculate the position of each
panorama if both the track and the panoramas have timestamps.</li>
<li>Wait for your panoramas to be authorised.</li>
<li>On the map on the main page, click the "Align photos" button below the
map, and align an authorised
panorama by rotating the camera icons. The camera should face
the same direction as the centre of the panorama.
Align it with the footpath or trail that you took
it from, by rotating the camera icon on the map so that it faces the same
direction as the centre of the panorama. To get back to the normal mode,
where moving over a camera icon shows a panorama, click the "View photos"
button.</li>
</ul>
<a href='index.php'>Back to main page</a>
</body>
</html>
