
=head1 Overview



=head1 Installing Tirex


=head2 User

The Debian scripts create a user and group "tirex". Everything runs as this
user. If you install from sources, we recommend you do this, too. Make sure
that /var/(run|lib|log)/tirex have the correct ownership and permissions.
Also the tile directory must have the right permissions.

=head2 Munin

Munin is a system to request, store, and display statistical data about a
running computer system. Tirex comes with several Munin plugins to help you
watch what Tirex is doing, resource consumption, etc.

If you use the Debian/Ubuntu packages install the tirex-munin package. If you
install from source you have to install the Perl libraries
F<lib/Tirex/Munin.pm> and everything under F<lib/Tirex/Munin/> in the Perl
search path and the files under F<munin> into F</etc/munin/plugins/>.

The functionality for the Munin plugins is in the Perl libraries. The scripts
in the F<munin> directory are only thin wrappers to call the libraries with the
right configuration. You will have to change the munin plugins to reflect the
map names in use on your system and the zoom levels and priority classes
(buckets).

Munin plugins come in two flavours, one checks the status of the currently
running tirex-master through shared memory, just as the tirex-status program
does. The code for these is in F<lib/Tirex/Munin/Status/*>, the munin plugins
themselves are called F<tirex-status-*>. The other flavour check the statistics
generated by the tirex-tiledir-check program. The code for these is in
F<lib/Tirex/Munin/Tiledir/*>, the munin plugins themselves are called
F<tirex-tiledir-*>. These scripts will only work if you run the
tirex-tiledir-check program regularly and put the output into
F</var/lib/tirex/stats/tiles.stat>. See F<utils/do-tirex-tiledir-check>
for a way of doing that.

=head1 Switching from mod_tile/renderd

Switching from mod_tile/renderd to Tirex is reasonably easy, but some default
file locations etc. are different. But crucially the tile cache has the same
format so you can just keep using it.

To switch you have to do the following things:
* Install Tirex system, either from source of using the Debian packages
* Edit /etc/tirex.conf to suit your needs and file locations, you have to
  at least configure the following: tile directory, mod_tile socket
* Stop renderd
* chown -r tirex:tirex the tile directory
* Start tirex-master


