
<Style name="buildings">
  <Rule>
    <Filter>[building]='yes' or [building]='house' or [building]='apartments' or [building]='block' or [building]='terrace' or [building]='semi' or [building]='detached' or [building]='barn' or [building]='shed' or [historic]='castle' or [building]='castle' or [building]='palace'</Filter>
    &maxscale_zoom13;
    <PolygonSymbolizer>
      <CssParameter name="fill">#9a5f21</CssParameter>
    </PolygonSymbolizer>
  </Rule>
  <Rule>
    <Filter>[building]='cabin' or [building]='hut' or [building]='pavilion'</Filter>
    &maxscale_zoom13;
    <PolygonSymbolizer>
      <CssParameter name="fill">#d68723</CssParameter>
    </PolygonSymbolizer>
  </Rule>
  <Rule>
    <Filter>[leisure]='sports_centre' or [leisure]='stadium' or [building]='stadium' or [building]='office' or [building]='store' or [building]='factory' or [building]='glasshouse' or [building]='warehouse' or [building]='brewery' or [aeroway]='terminal' or [railway]='station' or [building]='train_station' or [amenity]='townhall' or [building]='city_hall' or [building]='hall' or [building]='church' or [amenity]='place_of_worship'</Filter>
    &maxscale_zoom13;
    <PolygonSymbolizer>
      <CssParameter name="fill">#5a87de</CssParameter>
    </PolygonSymbolizer>
  </Rule>
</Style>

<Layer name="buildings" status="on" srs="&osm2pgsql_projection;">
  <StyleName>buildings</StyleName>
  <Datasource>
    <Parameter name="table">
    (select way,building,leisure,railway,amenity,aeroway,landuse,historic from &prefix;_polygon
     where building is not null
        or landuse='building'
        or leisure in ('sports_centre','stadium')
        or historic='castle'
        or amenity in ('place_of_worship','townhall')
        or railway='station'
        or aeroway='terminal'
     order by z_order,way_area desc) as buildings
    </Parameter>
    &datasource-settings;
  </Datasource>
</Layer>
